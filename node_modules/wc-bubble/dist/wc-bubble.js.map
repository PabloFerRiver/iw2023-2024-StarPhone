{"version":3,"file":"wc-bubble.js","mappings":"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","sources":["webpack://wc-bubble/webpack/universalModuleDefinition","webpack://wc-bubble/webpack/bootstrap","webpack://wc-bubble/webpack/runtime/define property getters","webpack://wc-bubble/webpack/runtime/hasOwnProperty shorthand","webpack://wc-bubble/webpack/runtime/make namespace object","webpack://wc-bubble/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://wc-bubble/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://wc-bubble/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://wc-bubble/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://wc-bubble/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://wc-bubble/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://wc-bubble/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://wc-bubble/./node_modules/@babel/runtime/helpers/esm/construct.js","webpack://wc-bubble/./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack://wc-bubble/./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack://wc-bubble/./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","webpack://wc-bubble/./src/Bubble.ts","webpack://wc-bubble/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://wc-bubble/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://wc-bubble/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://wc-bubble/./src/Bubble.scss","webpack://wc-bubble/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"wc-bubble\"] = factory();\n\telse\n\t\troot[\"wc-bubble\"] = factory();\n})(self, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n      _cache.set(Class, Wrapper);\n    }\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  try {\n    return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n  } catch (e) {\n    return typeof fn === \"function\";\n  }\n}","/*\n  wc-bubble | Bubble.ts\n  Copyright (C) 2023  yishiashia <yishiashia@gmail.com>\n\n  This program is free software: you can redistribute it and/or modify it\n  under the terms of the GNU General Public License as published\n  by the Free Software Foundation, either version 3 of the License,\n  or (at your option) any later version.\n\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n  or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n  for more details.\n\n  You should have received a copy of the GNU General Public License along with\n  this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport styles from \"./Bubble.scss\";\n\nexport default class Bubble extends HTMLElement {\n\n  private props: {\n    delay: number\n    avatar: string\n  }\n  private msgElement: HTMLElement | null\n  private bubbleElement: HTMLElement | null\n  private _isContinued: boolean\n  private _isRight: boolean\n  private _isLoading: boolean\n\n  constructor () {\n    super()\n    this.attachShadow({ mode: 'open' })\n\n    this.dispatchMountedEvent = this.dispatchMountedEvent.bind(this)\n\n    this.props = {\n      delay: 0,\n      avatar: `data:image/svg+xml;utf8,<svg viewBox=\"0 0 200 200\" xmlns=\"http://www.w3.org/2000/svg\"><rect x=\"45\" y=\"55\" width=\"110\" height=\"100\" rx=\"20\" fill-opacity=\"0\" stroke=\"black\" stroke-width=\"15\"></rect><circle cx=\"75\" cy=\"95\" r=\"10\" fill=\"black\"></circle><circle cx=\"125\" cy=\"95\" r=\"10\" fill=\"black\"></circle><line x1=\"75\" y1=\"125\" x2=\"125\" y2=\"125\" stroke=\"black\" stroke-width=\"10\"></line><ellipse cx=\"30\" cy=\"95\" rx=\"10\" ry=\"10\" fill=\"black\" stroke=\"black\" stroke-width=\"10\"></ellipse><ellipse cx=\"170\" cy=\"95\" rx=\"10\" ry=\"10\" fill=\"black\" stroke=\"black\" stroke-width=\"10\"></ellipse><circle cx=\"100\" cy=\"30\" r=\"10\" fill=\"black\" stroke=\"black\" stroke-width=\"10\"></circle><line x1=\"100\" y1=\"35\" x2=\"100\" y2=\"55\" stroke=\"black\" stroke-width=\"10\"></line></svg>`\n    }\n    this.msgElement = null;\n    this.bubbleElement = null;\n    this._isContinued = false;\n    this._isRight = false;\n    this._isLoading = false;\n  }\n\n  connectedCallback() {\n\n    if (this.hasAttribute(\"delay\")) {\n      const delay = this.getAttribute(\"delay\");\n      if (delay !== null) {\n        const delayInt = parseInt(delay);\n        this.props.delay = isNaN(delayInt) ? 0 : delayInt > 0 ? delayInt : 0;\n      }\n    }\n\n    // DOM\n    const wrapper = document.createElement(\"div\");\n    wrapper.classList.add(\"chat-message\")\n    if (this.hasAttribute(\"continued\")) {\n      wrapper.classList.add(\"continue\");\n      this._isContinued = true;\n    }\n    if (this.hasAttribute(\"right\")) {\n      wrapper.classList.add(\"right\");\n      this._isRight = true;\n    }\n    if (this.hasAttribute(\"loading\")) {\n      this._isLoading = true;\n    }\n    if (this.hasAttribute(\"avatar\")) {\n      this.props.avatar = this.getAttribute(\"avatar\") as string;\n    }\n    this.bubbleElement = this.genBubbleElement();\n    wrapper.append(this.genAvatarElement());\n    wrapper.append(this.bubbleElement);\n    this.msgElement = wrapper;\n\n    if (this.shadowRoot !== null) {\n      const sheet = new CSSStyleSheet();\n      sheet.replaceSync(styles);\n      this.shadowRoot.adoptedStyleSheets = [sheet];\n      this.shadowRoot.append(wrapper);\n    }\n  }\n\n  removeGracefully() {\n    if (this.bubbleElement !== null) {\n      this.bubbleElement.addEventListener(\"animationend\", () => {\n        const parentElement = this.parentElement;\n        if (parentElement !== null) {\n          parentElement.removeChild(this);\n        } else {\n          this.remove();\n        }\n      });\n      this.bubbleElement.classList.add(\"animation-scale-out\")\n    }\n  }\n\n  dispatchMountedEvent() {\n    const customEvent = new CustomEvent('mounted');\n    this.dispatchEvent(customEvent);\n    if (this.bubbleElement !== null) {\n      this.bubbleElement.removeEventListener(\"animationend\", this.dispatchMountedEvent);\n    }\n  }\n\n  get continued() {\n    return this._isContinued;\n  }\n\n  set continued(v: boolean) {\n    this._isContinued = v;\n    if (this.msgElement !== null) {\n      if (this._isContinued) {\n        this.msgElement.classList.add(\"continue\");\n      } else {\n        this.msgElement.classList.remove(\"continue\");\n      }\n    }\n  }\n\n  get right() {\n    return this._isRight;\n  }\n\n  set right(v: boolean) {\n    this._isRight = v;\n    if (this.msgElement !== null) {\n      if (this._isRight) {\n        this.msgElement.classList.add(\"right\");\n      } else {\n        this.msgElement.classList.remove(\"right\");\n      }\n    }\n  }\n\n  get loading() {\n    return this._isLoading;\n  }\n\n  set loading(v: boolean) {\n    this._isLoading = v;\n    if (this.bubbleElement !== null) {\n      if (this._isLoading) {\n        this.bubbleElement.classList.add(\"typing-indicator\");\n        this.bubbleElement.innerHTML = `<div class=\"dots\"><div class=\"dot\"></div><div class=\"dot\"></div><div class=\"dot\"></div></div>`;\n      } else {\n        this.bubbleElement.classList.remove(\"typing-indicator\");\n        this.bubbleElement.innerHTML = `<slot></slot>`;\n      }\n    }\n  }\n\n  private genAvatarElement() {\n    const div = document.createElement(\"div\");\n    const img = document.createElement(\"img\");\n    div.classList.add(\"avatar\");\n    div.style.setProperty('--bubble-index', String(this.props.delay));\n    img.src = this.props.avatar;\n    div.append(img);\n    return div;\n  }\n\n  private genBubbleElement() {\n    const chatBubble = document.createElement(\"div\");\n    chatBubble.classList.add(\"chat-bubble\")\n    const contentDiv = document.createElement(\"div\");\n    contentDiv.classList.add(\"chat-content\")\n    chatBubble.appendChild(contentDiv)\n    if (this.hasAttribute(\"loading\")) {\n      chatBubble.classList.add(\"typing-indicator\");\n      contentDiv.innerHTML = `<div class=\"dots\"><div class=\"dot\"></div><div class=\"dot\"></div><div class=\"dot\"></div></div>`;\n    } else {\n      contentDiv.appendChild(document.createElement(\"slot\"));\n    }\n    chatBubble.style.setProperty('--bubble-index', String(this.props.delay));\n    chatBubble.addEventListener(\"animationend\", this.dispatchMountedEvent);\n    return chatBubble;\n  }\n\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export default \":host{--chat-bubble-color: #FFFFFF;--chat-bubble-right-color: #F6ECCC;--chat-bubble-font-color: #000000;--chat-bubble-font-right-color: #000000;--chat-bubble-avatar-color: #CCCCCC;--chat-bubble-delay: 0.5s}::slotted(p){margin:0 !important}.chat-message{display:flex}.chat-message .chat-bubble{font-weight:400;font-family:\\\"PingFang SC\\\",\\\"Noto Sans TC\\\",\\\"Helvetica Neue\\\",sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-smoothing:antialiased;position:relative;width:max-content;background-color:var(--chat-bubble-color);border-radius:20px;box-shadow:0 0 1px rgba(0,0,0,.3);padding:10px 20px;margin:10px 15px 0px;max-width:min(60%,600px);animation:scale-in .2s ease,fade-in .2s ease;transform-origin:top left;transition:width .5s ease,height .5s ease,left .5s ease;animation-fill-mode:backwards;animation-delay:calc(var(--chat-bubble-delay)*var(--bubble-index));color:var(--chat-bubble-font-color)}.chat-message .chat-bubble .chat-content{word-wrap:break-word;overflow:hidden}.chat-message .chat-bubble::before{content:\\\"\\\";position:absolute;border:0 solid rgba(0,0,0,0);border-bottom:7px solid var(--chat-bubble-color);border-radius:0 0 0 20px;width:12px;height:12px;top:-5px;left:-7px}.chat-message .chat-bubble p{margin:0}.chat-message .avatar{width:36px;height:36px;border-radius:100%;background-color:var(--chat-bubble-avatar-color);overflow:hidden;animation:scale-in 0s ease;animation-fill-mode:backwards;animation-delay:calc(var(--chat-bubble-delay)*var(--bubble-index))}.chat-message .avatar img{width:80%;height:80%;margin:10%}.chat-message.right{justify-content:end}.chat-message.right .chat-bubble{background:var(--chat-bubble-right-color);color:var(--chat-bubble-font-right-color);transform-origin:top right}.chat-message.right .chat-bubble::before{border-radius:0 0 20px 0;border-color:var(--chat-bubble-right-color);left:auto;right:-7px}.chat-message.right .avatar{display:none}.chat-message.continue .chat-bubble::before{display:none}.chat-message.continue .avatar{opacity:0}.chat-message.continue .avatar img{display:none}.chat-message .chat-bubble.animation-scale-out{animation:scale-out .2s ease-in-out forwards,fade-out .2s ease-in-out forwards}@keyframes scale-in{0%{transform:scale(0)}100%{transform:scale(1)}}@keyframes scale-out{0%{transform:scale(1)}100%{transform:scale(0)}}@keyframes fade-in{0%{opacity:0}50%{opacity:1}100%{opacity:1}}@keyframes fade-out{0%{opacity:1}50%{opacity:0}100%{opacity:0}}.typing-indicator{display:flex;align-items:start;margin-left:20px;color:#666}.typing-indicator .dots{display:flex;margin:10px auto;gap:8px}.typing-indicator .dots .dot{width:5px;height:5px;border-radius:100%;background-color:#666;animation:pulse 1.5s ease-in-out infinite}.typing-indicator .dots .dot:nth-child(2){animation-delay:.2s}.typing-indicator .dots .dot:nth-child(3){animation-delay:.4s}@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.5)}100%{transform:scale(1)}}\";","/*\n  wc-bubble | index.ts\n  Copyright (C) 2023  yishiashia <yishiashia@gmail.com>\n\n  This program is free software: you can redistribute it and/or modify it\n  under the terms of the GNU General Public License as published\n  by the Free Software Foundation, either version 3 of the License,\n  or (at your option) any later version.\n\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n  or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n  for more details.\n\n  You should have received a copy of the GNU General Public License along with\n  this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Bubble from \"./Bubble\";\n\n// Register custom elements\nif(customElements.get('chat-bubble') === undefined) {\n  window.customElements.define('chat-bubble', Bubble)\n}\n\nexport default Bubble"],"names":["root","factory","exports","module","define","amd","self","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","_typeof","iterator","constructor","_defineProperties","target","props","i","length","descriptor","configurable","writable","arg","input","hint","prim","toPrimitive","undefined","res","TypeError","String","_assertThisInitialized","ReferenceError","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","_getPrototypeOf","getPrototypeOf","_construct","Parent","args","Class","Reflect","construct","sham","Proxy","Boolean","valueOf","e","a","push","apply","instance","Function","arguments","_wrapNativeSuper","_cache","Map","fn","toString","indexOf","has","set","Wrapper","this","create","Bubble","_HTMLElement","subClass","superClass","_inherits","Constructor","protoProps","_super","_this","_classCallCheck","attachShadow","mode","dispatchMountedEvent","delay","avatar","msgElement","bubbleElement","_isContinued","_isRight","_isLoading","hasAttribute","getAttribute","delayInt","parseInt","isNaN","wrapper","document","createElement","classList","add","genBubbleElement","append","genAvatarElement","shadowRoot","sheet","CSSStyleSheet","replaceSync","adoptedStyleSheets","_this2","addEventListener","parentElement","removeChild","remove","customEvent","CustomEvent","dispatchEvent","removeEventListener","v","innerHTML","div","img","style","setProperty","src","chatBubble","contentDiv","appendChild","HTMLElement","customElements","window"],"sourceRoot":""}